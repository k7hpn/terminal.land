name: CI

on:
  push:
    branches: [ main ]
    paths:
      - clients/electron/**

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
   runs-on: ubuntu-latest

#os: [macos-latest, ubuntu-latest, windows-latest]
  strategy:
    matrix:
	  os: [ubuntu-latest]
	
	  steps:
		  - name: Check out Git repository
			uses: actions/checkout@v2
	
		  - name: Install Node.js, NPM and Yarn
			uses: actions/setup-node@v1
			with:
			  node-version: 10
	
		  - name: Build/release Electron app
			uses: samuelmeuli/action-electron-builder@v1
			with:
			  # GitHub token, automatically provided to the action
			  # (No need to define this secret in the repo settings)
			  github_token: ${{ secrets.github_token }}
	
			  # If the commit is tagged with a version (e.g. "v1.0.0"),
			  # release the app after building
			  release: ${{ startsWith(github.ref, 'refs/tags/v') }}
